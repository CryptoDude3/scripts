import{a as r}from"./index.3403b1c6.js";import{a as u}from"./vendor.03cf6245.js";import{J as m}from"./JsErrorReporter.230fd30f.js";import"./ProblemVariablesExtender.4d903d18.js";import"./ResultVariablesChecker.2283a997.js";import"./_commonjsHelpers.042e6b4d.js";import"./vue.968e3963.js";import"./lodash.1fed07e5.js";import"./AsyncUtil.297ca876.js";import"./howler.16bf33e9.js";import"./DentUtil.8a2cba8c.js";import"./VariationSetGenerator.76337f1f.js";import"./admin.3dd0918f.js";import"./create_store.feede565.js";import"./vue.6393bf1c.js";import"./naturalSort.11e7fc54.js";import"./LatexUtil.8cc70e77.js";import"./TextUtil.b5a49ebb.js";import"./MathHelper.4a2a3f86.js";import"./DentConstants.9c5e8501.js";import"./AppButton.182eeb9e.js";import"./_plugin-vue2_normalizer.2bbd088e.js";import"./AppIcon.983dae0e.js";import"./UIDMixin.d0af90ff.js";import"./LessonUtil.b64a9165.js";const o=["get"],n=["put","post","delete"];window.Dent.utils.Store = s;window.numActiveReadRequests=0;window.numActiveWriteRequests=0;window.numFailedWriteRequests=0;const d={setUp(){const i=[r,u];for(const t of i)t.interceptors.request.use(function(e){return o.includes(e.method)?window.numActiveReadRequests+=1:n.includes(e.method)&&(window.numActiveWriteRequests+=1),e}),t.interceptors.response.use(function(e){return o.includes(e.config.method)?window.numActiveReadRequests-=1:n.includes(e.config.method)&&(window.numActiveWriteRequests-=1),e},function(e){return o.includes(e.config.method)?window.numActiveReadRequests-=1:n.includes(e.config.method)&&(window.numActiveWriteRequests-=1,window.numFailedWriteRequests+=1),Promise.reject(e)})}},a={setUp(){window.dentTestMode||window.addEventListener("beforeunload",function(i){if(window.numActiveWriteRequests>0&&!window.xhrTimeoutReloadInitialized){const t=window.gon&&gon.user?gon.user.id:null,e=`Navigate away while saving data. Num active write requests: ${window.numActiveWriteRequests}`;m.send("onclose",t,e);const s="Still saving - you may lose unsaved data if you leave this page!";return i.returnValue=s,s}})}};d.setUp();a.setUp();
